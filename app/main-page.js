var utils = require("utils/utils");
var Physics = require("./physics/physicsjs-full");
var nsRenderer = require("./physics/ns-renderer");
var initialized = false;
// Event handler for Page "loaded" event attached in main-page.xml
function pageLoaded(args) {
    var page = args.object;
    var container = page.getViewById("container");
    var metaText = page.getViewById("meta");
    initWrold(container, metaText);
}
exports.pageLoaded = pageLoaded;
function createLink(body1, body2, world, constraints, linkLength) {
    if (linkLength === void 0) { linkLength = 10; }
    var body1X = body1.state.pos.get(0);
    var body1Y = body1.state.pos.get(1);
    var body2X = body2.state.pos.get(0);
    var body2Y = body2.state.pos.get(1);
    var dx = body2X - body1X;
    var dy = body2Y - body1Y;
    var distance = Math.sqrt(dx * dx + dy * dy) - body1.radius - body2.radius;
    if (distance < 0) {
        throw Error("Bodies are too close");
    }
    var count = Math.floor(distance / linkLength) - 1;
    if (count === 0) {
        //direct link
        constraints.distanceConstraint(body1, body2, 0.5);
        return;
    }
    var angle = Math.atan2(dx, dy);
    var sin = Math.sin(angle);
    var cos = Math.cos(angle);
    var xInc = (sin * distance) / (count + 1);
    var yInc = (cos * distance) / (count + 1);
    var links = [];
    for (var i = 0; i < count; i++) {
        var link = Physics.body('circle', {
            x: body1X + body1.radius * sin + (i + 1) * xInc,
            y: body1Y + body1.radius * cos + (i + 1) * yInc,
            radius: 2,
            mass: 0.1
        });
        links.push(link);
        world.add(link);
        if (i > 0) {
            constraints.distanceConstraint(links[i - 1], links[i], 0.5);
        }
    }
    constraints.distanceConstraint(body1, links[0], 0.5);
    constraints.distanceConstraint(links[count - 1], body2, 0.5);
}
var WIDTH;
var HEIGHT;
var DENSITY;
var anchors = [];
function initWrold(container, metaText) {
    if (initialized) {
        return;
    }
    initialized = true;
    DENSITY = utils.layout.getDisplayDensity();
    WIDTH = 300; //screen.mainScreen.widthDIPs;
    HEIGHT = 400; //screen.mainScreen.heightDIPs - 60;
    console.log("w: " + WIDTH + " h: " + HEIGHT);
    container.width = WIDTH;
    container.height = HEIGHT;
    var world = Physics();
    var rigidConstraints = Physics.behavior('verlet-constraints', {
        iterations: 1
    });
    var ball = Physics.body('circle', {
        x: 250,
        y: 60,
        radius: 20,
        mass: 2
    });
    var anchor = Physics.body('circle', {
        x: 150,
        y: 100,
        vx: .2,
        radius: 10,
        mass: 9
    });
    anchor.treatment = 'static';
    anchors.push(anchor);
    createLink(anchor, ball, world, rigidConstraints, 5);
    var ball2 = Physics.body('circle', {
        x: 120,
        y: 220,
        radius: 20,
        mass: 2
    });
    var anchor2 = Physics.body('circle', {
        x: 50,
        y: 200,
        vx: .2,
        radius: 10,
        mass: 9
    });
    anchor2.treatment = 'static';
    anchors.push(anchor2);
    createLink(anchor2, ball2, world, rigidConstraints, 5);
    world.add(anchor);
    world.add(ball);
    world.add(anchor2);
    world.add(ball2);
    world.add(rigidConstraints);
    var renderer = Physics.renderer('ns', {
        container: container,
        metaText: metaText,
        width: WIDTH,
        height: HEIGHT,
        meta: true
    });
    world.add([
        Physics.behavior('edge-collision-detection', { aabb: Physics.aabb(0, 0, WIDTH, HEIGHT) }),
        Physics.behavior('body-collision-detection'),
        Physics.behavior('body-impulse-response'),
        Physics.behavior('sweep-prune'),
        Physics.behavior('constant-acceleration'),
        renderer
    ]);
    world.on('step', function () {
        world.render();
    });
    Physics.util.ticker.on(function (t) {
        world.step(t);
    }).start();
    setInterval(function () {
        world.step(Date.now());
    }, 20);
}
var initialPos;
var selectedAnchor;
function onPan(args) {
    var touchX;
    var touchY;
    if (args.android) {
        touchX = args.android.current.getX() / DENSITY;
        touchY = args.android.current.getY() / DENSITY;
    }
    else if (args.ios) {
        var pos = args.ios.locationInView(args.object.ios);
        touchX = pos.x;
        touchY = pos.y;
    }
    if (touchX === undefined || touchY === undefined) {
        return;
    }
    var touch = new Physics.vector(touchX, touchY);
    console.log("PAN state: " + args.state + " touch: " + touch.toString());
    if (args.state === 1) {
        for (var _i = 0; _i < anchors.length; _i++) {
            var a = anchors[_i];
            if (touch.dist(a.state.pos) < 20) {
                selectedAnchor = a;
                break;
            }
        }
    }
    else if (args.state === 3) {
        selectedAnchor = undefined;
    }
    if (selectedAnchor) {
        selectedAnchor.state.pos.set(touchX, touchY);
    }
}
exports.onPan = onPan;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi1wYWdlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibWFpbi1wYWdlLnRzIl0sIm5hbWVzIjpbInBhZ2VMb2FkZWQiLCJjcmVhdGVMaW5rIiwiaW5pdFdyb2xkIiwib25QYW4iXSwibWFwcGluZ3MiOiJBQVNBLElBQU8sS0FBSyxXQUFXLGFBQWEsQ0FBQyxDQUFDO0FBRXRDLElBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxDQUFBO0FBQ2pELElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO0FBRWxELElBQUksV0FBVyxHQUFHLEtBQUssQ0FBQztBQUN4QixrRUFBa0U7QUFDbEUsb0JBQTJCLElBQTBCO0lBQ2pEQSxJQUFJQSxJQUFJQSxHQUFlQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQTtJQUVuQ0EsSUFBSUEsU0FBU0EsR0FBZUEsSUFBSUEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsV0FBV0EsQ0FBQ0EsQ0FBQ0E7SUFDMURBLElBQUlBLFFBQVFBLEdBQWFBLElBQUlBLENBQUNBLFdBQVdBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBO0lBRWxEQSxTQUFTQSxDQUFDQSxTQUFTQSxFQUFFQSxRQUFRQSxDQUFDQSxDQUFDQTtBQUNuQ0EsQ0FBQ0E7QUFQZSxrQkFBVSxhQU96QixDQUFBO0FBRUQsb0JBQW9CLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxVQUF1QjtJQUF2QkMsMEJBQXVCQSxHQUF2QkEsZUFBdUJBO0lBQ3pFQSxJQUFJQSxNQUFNQSxHQUFHQSxLQUFLQSxDQUFDQSxLQUFLQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtJQUNwQ0EsSUFBSUEsTUFBTUEsR0FBR0EsS0FBS0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFDcENBLElBQUlBLE1BQU1BLEdBQUdBLEtBQUtBLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO0lBQ3BDQSxJQUFJQSxNQUFNQSxHQUFHQSxLQUFLQSxDQUFDQSxLQUFLQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtJQUVwQ0EsSUFBSUEsRUFBRUEsR0FBR0EsTUFBTUEsR0FBR0EsTUFBTUEsQ0FBQ0E7SUFDekJBLElBQUlBLEVBQUVBLEdBQUdBLE1BQU1BLEdBQUdBLE1BQU1BLENBQUNBO0lBQ3pCQSxJQUFJQSxRQUFRQSxHQUFHQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQSxHQUFHQSxLQUFLQSxDQUFDQSxNQUFNQSxHQUFHQSxLQUFLQSxDQUFDQSxNQUFNQSxDQUFDQTtJQUMxRUEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsUUFBUUEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDZkEsTUFBTUEsS0FBS0EsQ0FBQ0Esc0JBQXNCQSxDQUFDQSxDQUFDQTtJQUN4Q0EsQ0FBQ0E7SUFDREEsSUFBSUEsS0FBS0EsR0FBR0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsUUFBUUEsR0FBR0EsVUFBVUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7SUFDbERBLEVBQUVBLENBQUNBLENBQUNBLEtBQUtBLEtBQUtBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1FBQ2RBLGFBQWFBO1FBQ2JBLFdBQVdBLENBQUNBLGtCQUFrQkEsQ0FBQ0EsS0FBS0EsRUFBRUEsS0FBS0EsRUFBRUEsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDbERBLE1BQU1BLENBQUNBO0lBQ1hBLENBQUNBO0lBRURBLElBQUlBLEtBQUtBLEdBQUdBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLENBQUNBLENBQUNBO0lBQy9CQSxJQUFJQSxHQUFHQSxHQUFHQSxJQUFJQSxDQUFDQSxHQUFHQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQTtJQUMxQkEsSUFBSUEsR0FBR0EsR0FBR0EsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0E7SUFFMUJBLElBQUlBLElBQUlBLEdBQUdBLENBQUNBLEdBQUdBLEdBQUdBLFFBQVFBLENBQUNBLEdBQUdBLENBQUNBLEtBQUtBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBO0lBQzFDQSxJQUFJQSxJQUFJQSxHQUFHQSxDQUFDQSxHQUFHQSxHQUFHQSxRQUFRQSxDQUFDQSxHQUFHQSxDQUFDQSxLQUFLQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtJQUMxQ0EsSUFBSUEsS0FBS0EsR0FBR0EsRUFBRUEsQ0FBQ0E7SUFDZkEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsS0FBS0EsRUFBRUEsQ0FBQ0EsRUFBRUEsRUFBRUEsQ0FBQ0E7UUFDN0JBLElBQUlBLElBQUlBLEdBQUdBLE9BQU9BLENBQUNBLElBQUlBLENBQUNBLFFBQVFBLEVBQUVBO1lBQzlCQSxDQUFDQSxFQUFFQSxNQUFNQSxHQUFHQSxLQUFLQSxDQUFDQSxNQUFNQSxHQUFHQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQTtZQUMvQ0EsQ0FBQ0EsRUFBRUEsTUFBTUEsR0FBR0EsS0FBS0EsQ0FBQ0EsTUFBTUEsR0FBR0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUE7WUFDL0NBLE1BQU1BLEVBQUVBLENBQUNBO1lBQ1RBLElBQUlBLEVBQUVBLEdBQUdBO1NBQ1pBLENBQUNBLENBQUNBO1FBQ0hBLEtBQUtBLENBQUNBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1FBQ2pCQSxLQUFLQSxDQUFDQSxHQUFHQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtRQUNoQkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDUkEsV0FBV0EsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxFQUFFQSxLQUFLQSxDQUFDQSxDQUFDQSxDQUFDQSxFQUFFQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUNoRUEsQ0FBQ0E7SUFDTEEsQ0FBQ0E7SUFDREEsV0FBV0EsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxLQUFLQSxFQUFFQSxLQUFLQSxDQUFDQSxDQUFDQSxDQUFDQSxFQUFFQSxHQUFHQSxDQUFDQSxDQUFDQTtJQUNyREEsV0FBV0EsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxLQUFLQSxDQUFDQSxLQUFLQSxHQUFHQSxDQUFDQSxDQUFDQSxFQUFFQSxLQUFLQSxFQUFFQSxHQUFHQSxDQUFDQSxDQUFDQTtBQUNqRUEsQ0FBQ0E7QUFFRCxJQUFJLEtBQWEsQ0FBQztBQUNsQixJQUFJLE1BQWMsQ0FBQztBQUNuQixJQUFJLE9BQWUsQ0FBQztBQUNwQixJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7QUFDakIsbUJBQW1CLFNBQXFCLEVBQUUsUUFBa0I7SUFDeERDLEVBQUVBLENBQUNBLENBQUNBLFdBQVdBLENBQUNBLENBQUNBLENBQUNBO1FBQ2RBLE1BQU1BLENBQUNBO0lBQ1hBLENBQUNBO0lBQ0RBLFdBQVdBLEdBQUdBLElBQUlBLENBQUNBO0lBRW5CQSxPQUFPQSxHQUFHQSxLQUFLQSxDQUFDQSxNQUFNQSxDQUFDQSxpQkFBaUJBLEVBQUVBLENBQUNBO0lBQzNDQSxLQUFLQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSw4QkFBOEJBO0lBQzNDQSxNQUFNQSxHQUFHQSxHQUFHQSxDQUFDQSxDQUFDQSxvQ0FBb0NBO0lBQ2xEQSxPQUFPQSxDQUFDQSxHQUFHQSxDQUFDQSxLQUFLQSxHQUFHQSxLQUFLQSxHQUFHQSxNQUFNQSxHQUFHQSxNQUFNQSxDQUFDQSxDQUFDQTtJQUU3Q0EsU0FBU0EsQ0FBQ0EsS0FBS0EsR0FBR0EsS0FBS0EsQ0FBQ0E7SUFDeEJBLFNBQVNBLENBQUNBLE1BQU1BLEdBQUdBLE1BQU1BLENBQUNBO0lBRTFCQSxJQUFJQSxLQUFLQSxHQUFHQSxPQUFPQSxFQUFFQSxDQUFDQTtJQUN0QkEsSUFBSUEsZ0JBQWdCQSxHQUFHQSxPQUFPQSxDQUFDQSxRQUFRQSxDQUFDQSxvQkFBb0JBLEVBQUVBO1FBQzFEQSxVQUFVQSxFQUFFQSxDQUFDQTtLQUNoQkEsQ0FBQ0EsQ0FBQ0E7SUFFSEEsSUFBSUEsSUFBSUEsR0FBR0EsT0FBT0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsRUFBRUE7UUFDOUJBLENBQUNBLEVBQUVBLEdBQUdBO1FBQ05BLENBQUNBLEVBQUVBLEVBQUVBO1FBQ0xBLE1BQU1BLEVBQUVBLEVBQUVBO1FBQ1ZBLElBQUlBLEVBQUVBLENBQUNBO0tBQ1ZBLENBQUNBLENBQUNBO0lBRUhBLElBQUlBLE1BQU1BLEdBQUdBLE9BQU9BLENBQUNBLElBQUlBLENBQUNBLFFBQVFBLEVBQUVBO1FBQ2hDQSxDQUFDQSxFQUFFQSxHQUFHQTtRQUNOQSxDQUFDQSxFQUFFQSxHQUFHQTtRQUNOQSxFQUFFQSxFQUFFQSxFQUFFQTtRQUNOQSxNQUFNQSxFQUFFQSxFQUFFQTtRQUNWQSxJQUFJQSxFQUFFQSxDQUFDQTtLQUNWQSxDQUFDQSxDQUFDQTtJQUNIQSxNQUFNQSxDQUFDQSxTQUFTQSxHQUFHQSxRQUFRQSxDQUFDQTtJQUM1QkEsT0FBT0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0E7SUFDckJBLFVBQVVBLENBQUNBLE1BQU1BLEVBQUVBLElBQUlBLEVBQUVBLEtBQUtBLEVBQUVBLGdCQUFnQkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFFckRBLElBQUlBLEtBQUtBLEdBQUdBLE9BQU9BLENBQUNBLElBQUlBLENBQUNBLFFBQVFBLEVBQUVBO1FBQy9CQSxDQUFDQSxFQUFFQSxHQUFHQTtRQUNOQSxDQUFDQSxFQUFFQSxHQUFHQTtRQUNOQSxNQUFNQSxFQUFFQSxFQUFFQTtRQUNWQSxJQUFJQSxFQUFFQSxDQUFDQTtLQUNWQSxDQUFDQSxDQUFDQTtJQUVIQSxJQUFJQSxPQUFPQSxHQUFHQSxPQUFPQSxDQUFDQSxJQUFJQSxDQUFDQSxRQUFRQSxFQUFFQTtRQUNqQ0EsQ0FBQ0EsRUFBRUEsRUFBRUE7UUFDTEEsQ0FBQ0EsRUFBRUEsR0FBR0E7UUFDTkEsRUFBRUEsRUFBRUEsRUFBRUE7UUFDTkEsTUFBTUEsRUFBRUEsRUFBRUE7UUFDVkEsSUFBSUEsRUFBRUEsQ0FBQ0E7S0FDVkEsQ0FBQ0EsQ0FBQ0E7SUFDSEEsT0FBT0EsQ0FBQ0EsU0FBU0EsR0FBR0EsUUFBUUEsQ0FBQ0E7SUFDN0JBLE9BQU9BLENBQUNBLElBQUlBLENBQUNBLE9BQU9BLENBQUNBLENBQUNBO0lBQ3RCQSxVQUFVQSxDQUFDQSxPQUFPQSxFQUFFQSxLQUFLQSxFQUFFQSxLQUFLQSxFQUFFQSxnQkFBZ0JBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO0lBR3ZEQSxLQUFLQSxDQUFDQSxHQUFHQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQTtJQUNsQkEsS0FBS0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7SUFDaEJBLEtBQUtBLENBQUNBLEdBQUdBLENBQUNBLE9BQU9BLENBQUNBLENBQUNBO0lBQ25CQSxLQUFLQSxDQUFDQSxHQUFHQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQTtJQUNqQkEsS0FBS0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxDQUFDQTtJQUU1QkEsSUFBSUEsUUFBUUEsR0FBR0EsT0FBT0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsSUFBSUEsRUFBRUE7UUFDbENBLFNBQVNBLEVBQUVBLFNBQVNBO1FBQ3BCQSxRQUFRQSxFQUFFQSxRQUFRQTtRQUNsQkEsS0FBS0EsRUFBRUEsS0FBS0E7UUFDWkEsTUFBTUEsRUFBRUEsTUFBTUE7UUFDZEEsSUFBSUEsRUFBRUEsSUFBSUE7S0FDYkEsQ0FBQ0EsQ0FBQ0E7SUFFSEEsS0FBS0EsQ0FBQ0EsR0FBR0EsQ0FBQ0E7UUFDTkEsT0FBT0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsMEJBQTBCQSxFQUFFQSxFQUFFQSxJQUFJQSxFQUFFQSxPQUFPQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxFQUFFQSxLQUFLQSxFQUFFQSxNQUFNQSxDQUFDQSxFQUFFQSxDQUFDQTtRQUN6RkEsT0FBT0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsMEJBQTBCQSxDQUFDQTtRQUM1Q0EsT0FBT0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsdUJBQXVCQSxDQUFDQTtRQUN6Q0EsT0FBT0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsYUFBYUEsQ0FBQ0E7UUFDL0JBLE9BQU9BLENBQUNBLFFBQVFBLENBQUNBLHVCQUF1QkEsQ0FBQ0E7UUFDekNBLFFBQVFBO0tBQ1hBLENBQUNBLENBQUNBO0lBRUhBLEtBQUtBLENBQUNBLEVBQUVBLENBQUNBLE1BQU1BLEVBQUVBO1FBQ2IsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ25CLENBQUMsQ0FBQ0EsQ0FBQ0E7SUFHSEEsT0FBT0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsVUFBU0EsQ0FBQ0E7UUFDN0IsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNsQixDQUFDLENBQUNBLENBQUNBLEtBQUtBLEVBQUVBLENBQUNBO0lBRVhBLFdBQVdBLENBQUNBO1FBQ1JBLEtBQUtBLENBQUNBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLEdBQUdBLEVBQUVBLENBQUNBLENBQUNBO0lBQzNCQSxDQUFDQSxFQUFFQSxFQUFFQSxDQUFDQSxDQUFDQTtBQUNYQSxDQUFDQTtBQUVELElBQUksVUFBVSxDQUFDO0FBQ2YsSUFBSSxjQUFjLENBQUM7QUFDbkIsZUFBc0IsSUFBa0M7SUFDcERDLElBQUlBLE1BQWNBLENBQUNBO0lBQ25CQSxJQUFJQSxNQUFjQSxDQUFDQTtJQUNuQkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDZkEsTUFBTUEsR0FBR0EsSUFBSUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsSUFBSUEsRUFBRUEsR0FBR0EsT0FBT0EsQ0FBQ0E7UUFDL0NBLE1BQU1BLEdBQUdBLElBQUlBLENBQUNBLE9BQU9BLENBQUNBLE9BQU9BLENBQUNBLElBQUlBLEVBQUVBLEdBQUdBLE9BQU9BLENBQUNBO0lBQ25EQSxDQUFDQTtJQUNEQSxJQUFJQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNoQkEsSUFBSUEsR0FBR0EsR0FBR0EsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsY0FBY0EsQ0FBUUEsSUFBSUEsQ0FBQ0EsTUFBT0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDM0RBLE1BQU1BLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBO1FBQ2ZBLE1BQU1BLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBO0lBQ25CQSxDQUFDQTtJQUVEQSxFQUFFQSxDQUFDQSxDQUFDQSxNQUFNQSxLQUFLQSxTQUFTQSxJQUFJQSxNQUFNQSxLQUFLQSxTQUFTQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUMvQ0EsTUFBTUEsQ0FBQ0E7SUFDWEEsQ0FBQ0E7SUFFREEsSUFBSUEsS0FBS0EsR0FBR0EsSUFBSUEsT0FBT0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsTUFBTUEsRUFBRUEsTUFBTUEsQ0FBQ0EsQ0FBQ0E7SUFDL0NBLE9BQU9BLENBQUNBLEdBQUdBLENBQUNBLGdCQUFlQSxJQUFJQSxDQUFDQSxLQUFLQSxnQkFBYUEsS0FBS0EsQ0FBQ0EsUUFBUUEsRUFBS0EsQ0FBQ0EsQ0FBQ0E7SUFFdkVBLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLEtBQUtBLEtBQUtBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1FBQ25CQSxHQUFHQSxDQUFDQSxDQUFVQSxVQUFPQSxFQUFoQkEsbUJBQUtBLEVBQUxBLElBQWdCQSxDQUFDQTtZQUFqQkEsSUFBSUEsQ0FBQ0EsR0FBSUEsT0FBT0EsSUFBWEE7WUFDTkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQy9CQSxjQUFjQSxHQUFHQSxDQUFDQSxDQUFDQTtnQkFDbkJBLEtBQUtBLENBQUNBO1lBQ1ZBLENBQUNBO1NBQ0pBO0lBQ0xBLENBQUNBO0lBQ0RBLElBQUlBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLEtBQUtBLEtBQUtBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1FBQ3hCQSxjQUFjQSxHQUFHQSxTQUFTQSxDQUFDQTtJQUMvQkEsQ0FBQ0E7SUFFREEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsY0FBY0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDakJBLGNBQWNBLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLENBQUNBLEdBQUdBLENBQUNBLE1BQU1BLEVBQUVBLE1BQU1BLENBQUNBLENBQUNBO0lBQ2pEQSxDQUFDQTtBQUNMQSxDQUFDQTtBQW5DZSxhQUFLLFFBbUNwQixDQUFBIn0=