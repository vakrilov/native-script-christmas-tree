var Physics = require("./physics/physicsjs-full");
var nsRenderer = require("./physics/ns-renderer");
// Event handler for Page "loaded" event attached in main-page.xml
function pageLoaded(args) {
    var WIDTH = 300; //screen.mainScreen.widthDIPs;
    var HEIGHT = 400; //screen.mainScreen.heightDIPs - 60;
    console.log("w: " + WIDTH + " h: " + HEIGHT);
    // Get the event sender
    var page = args.object;
    var container = page.getViewById("container");
    var metaText = page.getViewById("meta");
    container.width = WIDTH;
    container.height = HEIGHT;
    var world = Physics();
    world.add(Physics.body('circle', {
        x: 50,
        y: 60,
        vx: .2,
        radius: 30
    }));
    world.add(Physics.body('circle', {
        x: 30,
        y: 60,
        radius: 10
    }));
    world.add(Physics.body('circle', {
        x: 70,
        y: 20,
        vx: -0.1,
        radius: 20
    }));
    var renderer = Physics.renderer('ns', {
        container: container,
        metaText: metaText,
        width: WIDTH,
        height: HEIGHT,
        meta: true
    });
    world.add([
        Physics.behavior('edge-collision-detection', { aabb: Physics.aabb(0, 0, WIDTH, HEIGHT) }),
        Physics.behavior('body-collision-detection'),
        Physics.behavior('body-impulse-response'),
        Physics.behavior('sweep-prune'),
        Physics.behavior('constant-acceleration'),
        renderer
    ]);
    world.on('step', function () {
        world.render();
    });
    Physics.util.ticker.on(function (t) {
        world.step(t);
    }).start();
    setInterval(function () {
        world.step(Date.now());
    }, 20);
}
exports.pageLoaded = pageLoaded;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi1wYWdlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibWFpbi1wYWdlLnRzIl0sIm5hbWVzIjpbInBhZ2VMb2FkZWQiXSwibWFwcGluZ3MiOiJBQVNBLElBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxDQUFBO0FBQ2pELElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO0FBRWxELGtFQUFrRTtBQUNsRSxvQkFBMkIsSUFBMEI7SUFDakRBLElBQUlBLEtBQUtBLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLDhCQUE4QkE7SUFDL0NBLElBQUlBLE1BQU1BLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLG9DQUFvQ0E7SUFDdERBLE9BQU9BLENBQUNBLEdBQUdBLENBQUNBLEtBQUtBLEdBQUdBLEtBQUtBLEdBQUdBLE1BQU1BLEdBQUdBLE1BQU1BLENBQUNBLENBQUNBO0lBQzdDQSx1QkFBdUJBO0lBQ3ZCQSxJQUFJQSxJQUFJQSxHQUFlQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQTtJQUVuQ0EsSUFBSUEsU0FBU0EsR0FBZUEsSUFBSUEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsV0FBV0EsQ0FBQ0EsQ0FBQ0E7SUFDMURBLElBQUlBLFFBQVFBLEdBQWFBLElBQUlBLENBQUNBLFdBQVdBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBO0lBQ2xEQSxTQUFTQSxDQUFDQSxLQUFLQSxHQUFHQSxLQUFLQSxDQUFDQTtJQUN4QkEsU0FBU0EsQ0FBQ0EsTUFBTUEsR0FBR0EsTUFBTUEsQ0FBQ0E7SUFFMUJBLElBQUlBLEtBQUtBLEdBQUdBLE9BQU9BLEVBQUVBLENBQUNBO0lBRXRCQSxLQUFLQSxDQUFDQSxHQUFHQSxDQUFDQSxPQUFPQSxDQUFDQSxJQUFJQSxDQUFDQSxRQUFRQSxFQUFFQTtRQUM3QkEsQ0FBQ0EsRUFBRUEsRUFBRUE7UUFDTEEsQ0FBQ0EsRUFBRUEsRUFBRUE7UUFDTEEsRUFBRUEsRUFBRUEsRUFBRUE7UUFDTkEsTUFBTUEsRUFBRUEsRUFBRUE7S0FDYkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFFSkEsS0FBS0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsRUFBRUE7UUFDN0JBLENBQUNBLEVBQUVBLEVBQUVBO1FBQ0xBLENBQUNBLEVBQUVBLEVBQUVBO1FBQ0xBLE1BQU1BLEVBQUVBLEVBQUVBO0tBQ2JBLENBQUNBLENBQUNBLENBQUNBO0lBR0pBLEtBQUtBLENBQUNBLEdBQUdBLENBQUNBLE9BQU9BLENBQUNBLElBQUlBLENBQUNBLFFBQVFBLEVBQUVBO1FBQzdCQSxDQUFDQSxFQUFFQSxFQUFFQTtRQUNMQSxDQUFDQSxFQUFFQSxFQUFFQTtRQUNMQSxFQUFFQSxFQUFFQSxDQUFDQSxHQUFHQTtRQUNSQSxNQUFNQSxFQUFFQSxFQUFFQTtLQUNiQSxDQUFDQSxDQUFDQSxDQUFDQTtJQUVKQSxJQUFJQSxRQUFRQSxHQUFHQSxPQUFPQSxDQUFDQSxRQUFRQSxDQUFDQSxJQUFJQSxFQUFFQTtRQUNsQ0EsU0FBU0EsRUFBRUEsU0FBU0E7UUFDcEJBLFFBQVFBLEVBQUVBLFFBQVFBO1FBQ2xCQSxLQUFLQSxFQUFFQSxLQUFLQTtRQUNaQSxNQUFNQSxFQUFFQSxNQUFNQTtRQUNkQSxJQUFJQSxFQUFFQSxJQUFJQTtLQUNiQSxDQUFDQSxDQUFDQTtJQUVIQSxLQUFLQSxDQUFDQSxHQUFHQSxDQUFDQTtRQUNOQSxPQUFPQSxDQUFDQSxRQUFRQSxDQUFDQSwwQkFBMEJBLEVBQUVBLEVBQUVBLElBQUlBLEVBQUVBLE9BQU9BLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLEVBQUVBLEtBQUtBLEVBQUVBLE1BQU1BLENBQUNBLEVBQUVBLENBQUNBO1FBQ3pGQSxPQUFPQSxDQUFDQSxRQUFRQSxDQUFDQSwwQkFBMEJBLENBQUNBO1FBQzVDQSxPQUFPQSxDQUFDQSxRQUFRQSxDQUFDQSx1QkFBdUJBLENBQUNBO1FBQ3pDQSxPQUFPQSxDQUFDQSxRQUFRQSxDQUFDQSxhQUFhQSxDQUFDQTtRQUMvQkEsT0FBT0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsdUJBQXVCQSxDQUFDQTtRQUN6Q0EsUUFBUUE7S0FDWEEsQ0FBQ0EsQ0FBQ0E7SUFFSEEsS0FBS0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsTUFBTUEsRUFBRUE7UUFDYixLQUFLLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDbkIsQ0FBQyxDQUFDQSxDQUFDQTtJQUdIQSxPQUFPQSxDQUFDQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxFQUFFQSxDQUFDQSxVQUFTQSxDQUFDQTtRQUM3QixLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2xCLENBQUMsQ0FBQ0EsQ0FBQ0EsS0FBS0EsRUFBRUEsQ0FBQ0E7SUFFWEEsV0FBV0EsQ0FBQ0E7UUFDUkEsS0FBS0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7SUFDM0JBLENBQUNBLEVBQUVBLEVBQUVBLENBQUNBLENBQUNBO0FBQ1hBLENBQUNBO0FBaEVlLGtCQUFVLGFBZ0V6QixDQUFBIn0=