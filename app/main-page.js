var image_1 = require("ui/image");
var utils = require("utils/utils");
var balls_1 = require("./balls");
var Physics = require("./physics/physicsjs-full");
var nsRenderer = require("./physics/ns-renderer");
var SCENE_WIDTH = 300;
var SCENE_HEIGHT = 400;
var DENSITY;
var DROP_SPOT_SIZE = 20;
var selectedBall;
var selectedDropSpot;
var initialized = false;
var dropSpots = [
    { x: 130, y: 170 },
    { x: 180, y: 180 },
    { x: 100, y: 280 },
    { x: 210, y: 290 }
];
var ballsWithChains = [
    { anchorX: 30, anchorY: 30, ballX: 20, ballY: 80, image: "~/images/ns-logo.png" },
    { anchorX: 70, anchorY: 30, ballX: 60, ballY: 80, image: "~/images/kendo-ui-logo.png" },
    { anchorX: 230, anchorY: 30, ballX: 240, ballY: 80, image: "~/images/telerik-logo.png" },
    { anchorX: 270, anchorY: 30, ballX: 280, ballY: 80, image: "~/images/progress-logo.png" },
];
// Event handler for Page "loaded" event attached in main-page.xml
function pageLoaded(args) {
    DENSITY = utils.layout.getDisplayDensity();
    var page = args.object;
    var container = page.getViewById("container");
    var metaText = page.getViewById("meta");
    setTimeout(function () {
        initWrold(container, metaText);
    }, 200);
}
exports.pageLoaded = pageLoaded;
function addDropSpots(container) {
    for (var _i = 0; _i < dropSpots.length; _i++) {
        var dropSpot = dropSpots[_i];
        var img = new image_1.Image();
        img.width = DROP_SPOT_SIZE;
        img.height = DROP_SPOT_SIZE;
        img.translateX = dropSpot.x - DROP_SPOT_SIZE / 2;
        img.translateY = dropSpot.y - DROP_SPOT_SIZE / 2;
        img.src = "~/images/anchor.png";
        img.stretch = "aspectFit";
        dropSpot.view = img;
        dropSpot.pos = new Physics.vector(dropSpot.x, dropSpot.y);
        container.addChild(img);
    }
}
function adjustToContainerSize(container) {
    var width = container.getMeasuredWidth() / DENSITY;
    var height = container.getMeasuredHeight() / DENSITY;
    var offsetX = (width - SCENE_WIDTH) / 2;
    var offsetY = (height - SCENE_HEIGHT - 60) / 2; // 60 - hieght of the share button
    container.width = width;
    container.height = height;
    for (var _i = 0; _i < dropSpots.length; _i++) {
        var dropSpot = dropSpots[_i];
        dropSpot.x += offsetX;
        dropSpot.y += offsetY;
    }
    for (var _a = 0; _a < ballsWithChains.length; _a++) {
        var bwc = ballsWithChains[_a];
        bwc.anchorX += offsetX;
        bwc.anchorY += offsetY;
        bwc.ballX += offsetX;
        bwc.ballY += offsetY;
    }
}
function initWrold(container, metaText) {
    if (initialized) {
        return;
    }
    initialized = true;
    adjustToContainerSize(container);
    addDropSpots(container);
    balls_1.initPhysicsWorld(container, metaText, ballsWithChains);
}
function onPan(args) {
    var touchX;
    var touchY;
    if (args.android) {
        touchX = args.android.current.getX() / DENSITY;
        touchY = args.android.current.getY() / DENSITY;
    }
    else if (args.ios) {
        var pos = args.ios.locationInView(args.object.ios);
        touchX = pos.x;
        touchY = pos.y;
    }
    if (touchX === undefined || touchY === undefined) {
        return;
    }
    var touch = new Physics.vector(touchX, touchY);
    // console.log(`PAN state: ${ args.state } touch: ${ touch.toString() }`);
    if (args.state === 1) {
        for (var _i = 0; _i < ballsWithChains.length; _i++) {
            var bwc = ballsWithChains[_i];
            if (touch.dist(bwc.anchorRef.state.pos) < 20) {
                selectedBall = bwc;
                break;
            }
        }
        if (selectedBall) {
            selectedBall.anchorRef.view.scaleX = 2;
            selectedBall.anchorRef.view.scaleY = 2;
        }
    }
    else if (args.state === 3 && selectedBall) {
        if (selectedDropSpot) {
            selectedDropSpot.view.scaleX = 1;
            selectedDropSpot.view.scaleY = 1;
        }
        else {
        }
        selectedBall.anchorRef.view.scaleX = 1;
        selectedBall.anchorRef.view.scaleY = 1;
        selectedBall = undefined;
        selectedDropSpot = undefined;
    }
    if (selectedBall) {
        for (var _a = 0; _a < dropSpots.length; _a++) {
            var dropSpot = dropSpots[_a];
            if (touch.dist(dropSpot.pos) < 10) {
                selectedDropSpot = dropSpot;
                selectedDropSpot.view.scaleX = 2.2;
                selectedDropSpot.view.scaleY = 2.2;
                touchX = dropSpot.x;
                touchY = dropSpot.y;
            }
            else {
                dropSpot.view.scaleX = 1;
                dropSpot.view.scaleY = 1;
                if (selectedDropSpot === dropSpot) {
                    selectedDropSpot = undefined;
                }
            }
        }
        selectedBall.anchorRef.state.pos.set(touchX, touchY);
    }
}
exports.onPan = onPan;
function onShare() {
    console.log("Share tapped !!!");
    // Todo use screenshot && social share plugins to share
}
exports.onShare = onShare;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi1wYWdlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibWFpbi1wYWdlLnRzIl0sIm5hbWVzIjpbInBhZ2VMb2FkZWQiLCJhZGREcm9wU3BvdHMiLCJhZGp1c3RUb0NvbnRhaW5lclNpemUiLCJpbml0V3JvbGQiLCJvblBhbiIsIm9uU2hhcmUiXSwibWFwcGluZ3MiOiJBQUdBLHNCQUFvQixVQUFVLENBQUMsQ0FBQTtBQU0vQixJQUFPLEtBQUssV0FBVyxhQUFhLENBQUMsQ0FBQztBQUV0QyxzQkFBOEMsU0FBUyxDQUFDLENBQUE7QUFFeEQsSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDLDBCQUEwQixDQUFDLENBQUE7QUFDakQsSUFBSSxVQUFVLEdBQUcsT0FBTyxDQUFDLHVCQUF1QixDQUFDLENBQUM7QUFFbEQsSUFBSSxXQUFXLEdBQVcsR0FBRyxDQUFDO0FBQzlCLElBQUksWUFBWSxHQUFXLEdBQUcsQ0FBQztBQUMvQixJQUFJLE9BQWUsQ0FBQztBQUVwQixJQUFJLGNBQWMsR0FBVyxFQUFFLENBQUM7QUFFaEMsSUFBSSxZQUEyQixDQUFDO0FBQ2hDLElBQUksZ0JBQTBCLENBQUM7QUFFL0IsSUFBSSxXQUFXLEdBQUcsS0FBSyxDQUFDO0FBU3hCLElBQUksU0FBUyxHQUFvQjtJQUM3QixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRTtJQUNsQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRTtJQUNsQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRTtJQUNsQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRTtDQUNyQixDQUFBO0FBRUQsSUFBSSxlQUFlLEdBQXlCO0lBQ3hDLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVB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